<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>RHCSA Study Notes :: ADDZEY.DEV</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="My study notes for RHCSA certification" />
<meta name="keywords" content="RHCSA" />

  <meta name="robots" content="noodp" />

<link rel="canonical" href="https://addzey.dev/rhcsa/" />






  
  
  
  
  
  <link rel="stylesheet" href="https://addzey.dev/styles.css">






<link href="https://addzey.dev/fontawesome/css/fontawesome.css" rel="stylesheet">
<link href="https://addzey.dev/fontawesome/css/brands.css" rel="stylesheet">
<link href="https://addzey.dev/fontawesome/css/solid.css" rel="stylesheet">



  <link rel="shortcut icon" href="https://addzey.dev/img/theme-colors/blue.png">
  <link rel="apple-touch-icon" href="https://addzey.dev/img/theme-colors/blue.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="Adam" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="RHCSA Study Notes">
<meta property="og:description" content="My study notes for RHCSA certification" />
<meta property="og:url" content="https://addzey.dev/rhcsa/" />
<meta property="og:site_name" content="ADDZEY.DEV" />

  
    <meta property="og:image" content="https://addzey.dev/img/favicon/blue.png">
  

<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="627">


  <meta property="article:published_time" content="2023-09-24 00:00:00 &#43;0000 UTC" />












</head>
<body class="blue">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    ADDZEY.DEV
  </div>
</a>

    </div>
    
      <ul class="menu menu--mobile">
  <li class="menu__trigger">Menu&nbsp;▾</li>
  <li>
    <ul class="menu__dropdown">
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/homelab">Homelab</a></li>
        
      
        
          <li><a href="/rhcsa">RHCSA</a></li>
        
      
        
          <li><a href="/aws-saa">AWS SAA</a></li>
        
      
        
          <li><a href="/aws-dop">AWS DOP</a></li>
        
      
        
          <li><a href="https://github.com/addzey">GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/adam-rogers-098466258/">LinkedIn</a></li>
        
      
      
    </ul>
  </li>
</ul>

    
    
  </div>
  
    <nav class="navigation-menu">
  <ul class="navigation-menu__inner menu--desktop">
    
      
        
          <li><a href="/about" >About</a></li>
        
      
        
          <li><a href="/homelab" >Homelab</a></li>
        
      
        
          <li><a href="/rhcsa" >RHCSA</a></li>
        
      
        
          <li><a href="/aws-saa" >AWS SAA</a></li>
        
      
        
          <li><a href="/aws-dop" >AWS DOP</a></li>
        
      
        
          <li><a href="https://github.com/addzey" ><i class="fa-brands fa-github-square"></i>GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/adam-rogers-098466258/" ><i class="fa-brands fa-linkedin"></i>LinkedIn</a></li>
        
      
      
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<article class="post">
  <h1 class="post-title">
    <a href="https://addzey.dev/rhcsa/">RHCSA Study Notes</a>
  </h1>
  <div class="post-meta">
    
      <time class="post-date">
        2023-09-24 ::
        
      </time>
    
    
      <span class="post-author">Adam</span>
    
    
  </div>

  
    <span class="post-tags">
      
      #<a href="https://addzey.dev/tags/rhcsa/">RHCSA</a>&nbsp;
      
      #<a href="https://addzey.dev/tags/redhat/">RedHat</a>&nbsp;
      
      #<a href="https://addzey.dev/tags/rhel/">rhel</a>&nbsp;
      
      #<a href="https://addzey.dev/tags/study-notes/">Study Notes</a>&nbsp;
      
    </span>
  
  


  
    <div class="table-of-contents">
      <h2>
        Table of Contents
      </h2>
      <nav id="TableOfContents">
  <ul>
    <li><a href="#introduction">Introduction</a>
      <ul>
        <li><a href="#understand-and-use-essential-tools">Understand and use essential tools</a>
          <ul>
            <li><a href="#access-a-shell-prompt-and-issue-commands-with-correct-syntax">Access a shell prompt and issue commands with correct syntax</a></li>
            <li><a href="#use-input-output-redirection----2-etc">Use input-output redirection (&gt;, &raquo;, |, 2&gt;, etc.)</a></li>
            <li><a href="#use-grep-and-regular-expressions-to-analyze-text">Use grep and regular expressions to analyze text</a></li>
            <li><a href="#access-remote-systems-using-ssh">Access remote systems using SSH</a></li>
            <li><a href="#log-in-and-switch-users-in-multiuser-targets">Log in and switch users in multiuser targets</a></li>
            <li><a href="#archive-compress-unpack-and-uncompress-files-using-tar-star-gzip-and-bzip2">Archive, compress, unpack, and uncompress files using tar, star, gzip, and bzip2</a></li>
            <li><a href="#create-and-edit-text-files">Create and edit text files</a></li>
            <li><a href="#create-delete-copy-and-move-files-and-directories">Create, delete, copy, and move files and directories</a></li>
            <li><a href="#create-hard-and-soft-links">Create hard and soft links</a></li>
            <li><a href="#list-set-and-change-standard-ugorwx-permissions">List, set, and change standard ugo/rwx permissions</a></li>
            <li><a href="#locate-read-and-use-system-documentation-including-man-info-and-files-in-usrsharedoc">Locate, read, and use system documentation including man, info, and files in /usr/share/doc</a></li>
          </ul>
        </li>
        <li><a href="#create-simple-shell-scripts">Create simple shell scripts</a>
          <ul>
            <li><a href="#conditionally-execute-code-use-of-if-test--etc">Conditionally execute code (use of: if, test, [], etc.)</a></li>
            <li><a href="#use-looping-constructs-for-etc-to-process-file-command-line-input">Use Looping constructs (for, etc.) to process file, command line input</a></li>
            <li><a href="#process-script-inputs-1-2-etc">Process script inputs ($1, $2, etc.)</a></li>
            <li><a href="#processing-output-of-shell-commands-within-a-script">Processing output of shell commands within a script</a></li>
          </ul>
        </li>
        <li><a href="#operate-running-systems">Operate running systems</a>
          <ul>
            <li><a href="#boot-reboot-and-shut-down-a-system-normally">Boot, reboot, and shut down a system normally</a></li>
            <li><a href="#boot-systems-into-different-targets-manually">Boot systems into different targets manually</a></li>
            <li><a href="#interrupt-the-boot-process-in-order-to-gain-access-to-a-system">Interrupt the boot process in order to gain access to a system</a></li>
            <li><a href="#identify-cpumemory-intensive-processes-and-kill-processes">Identify CPU/memory intensive processes and kill processes</a></li>
            <li><a href="#adjust-process-scheduling">Adjust process scheduling</a></li>
            <li><a href="#manage-tuning-profiles">Manage tuning profiles</a></li>
            <li><a href="#locate-and-interpret-system-log-files-and-journals">Locate and interpret system log files and journals</a></li>
            <li><a href="#preserve-system-journals">Preserve system journals</a></li>
            <li><a href="#start-stop-and-check-the-status-of-network-services">Start, stop, and check the status of network services</a></li>
            <li><a href="#securely-transfer-files-between-systems">Securely transfer files between systems</a></li>
          </ul>
        </li>
        <li><a href="#configure-local-storage">Configure local storage</a>
          <ul>
            <li><a href="#list-create-delete-partitions-on-mbr-and-gpt-disks">List, create, delete partitions on MBR and GPT disks</a></li>
            <li><a href="#create-and-remove-physical-volumes">Create and remove physical volumes</a></li>
            <li><a href="#assign-physical-volumes-to-volume-groups">Assign physical volumes to volume groups</a></li>
            <li><a href="#create-and-delete-logical-volumes">Create and delete logical volumes</a></li>
            <li><a href="#configure-systems-to-mount-file-systems-at-boot-by-universally-unique-id-uuid-or-label">Configure systems to mount file systems at boot by universally unique ID (UUID) or label</a></li>
            <li><a href="#add-new-partitions-and-logical-volumes-and-swap-to-a-system-non-destructively">Add new partitions and logical volumes, and swap to a system non-destructively</a></li>
          </ul>
        </li>
        <li><a href="#create-and-configure-file-systems">Create and configure file systems</a>
          <ul>
            <li><a href="#create-mount-unmount-and-use-vfat-ext4-and-xfs-file-systems">Create, mount, unmount, and use vfat, ext4, and xfs file systems</a></li>
            <li><a href="#mount-and-unmount-network-file-systems-using-nfs">Mount and unmount network file systems using NFS</a></li>
            <li><a href="#configure-autofs">Configure autofs</a></li>
            <li><a href="#extend-existing-logical-volumes">Extend existing logical volumes</a></li>
            <li><a href="#create-and-configure-set-gid-directories-for-collaboration">Create and configure set-GID directories for collaboration</a></li>
            <li><a href="#diagnose-and-correct-file-permission-problems">Diagnose and correct file permission problems</a></li>
          </ul>
        </li>
        <li><a href="#deploy-configure-and-maintain-systems">Deploy, configure, and maintain systems</a>
          <ul>
            <li><a href="#schedule-tasks-using-at-and-cron">Schedule tasks using at and cron</a></li>
            <li><a href="#start-and-stop-services-and-configure-services-to-start-automatically-at-boot">Start and stop services and configure services to start automatically at boot</a></li>
            <li><a href="#configure-systems-to-boot-into-a-specific-target-automatically">Configure systems to boot into a specific target automatically</a></li>
            <li><a href="#configure-time-service-clients">Configure time service clients</a></li>
            <li><a href="#install-and-update-software-packages-from-red-hat-network-a-remote-repository-or-from-the-local-file-system">Install and update software packages from Red Hat Network, a remote repository, or from the local file system</a></li>
            <li><a href="#modify-the-system-bootloader">Modify the system bootloader</a></li>
          </ul>
        </li>
        <li><a href="#manage-basic-networking">Manage basic networking</a>
          <ul>
            <li><a href="#configure-ipv4-and-ipv6-addresses">Configure IPv4 and IPv6 addresses</a></li>
            <li><a href="#configure-hostname-resolution">Configure hostname resolution</a></li>
            <li><a href="#configure-network-services-to-start-automatically-at-boot">Configure network services to start automatically at boot</a></li>
            <li><a href="#restrict-network-access-using-firewall-cmdfirewall">Restrict network access using firewall-cmd/firewall</a></li>
          </ul>
        </li>
        <li><a href="#manage-users-and-groups">Manage users and groups</a>
          <ul>
            <li><a href="#create-delete-and-modify-local-user-accounts">Create, delete, and modify local user accounts</a></li>
            <li><a href="#change-passwords-and-adjust-password-aging-for-local-user-accounts">Change passwords and adjust password aging for local user accounts</a></li>
            <li><a href="#create-delete-and-modify-local-groups-and-group-memberships">Create, delete, and modify local groups and group memberships</a></li>
            <li><a href="#configure-superuser-access">Configure superuser access</a></li>
          </ul>
        </li>
        <li><a href="#manage-security">Manage security</a>
          <ul>
            <li><a href="#configure-firewall-settings-using-firewall-cmdfirewalld">Configure firewall settings using firewall-cmd/firewalld</a></li>
            <li><a href="#manage-default-file-permissions">Manage default file permissions</a></li>
            <li><a href="#configure-key-based-authentication-for-ssh">Configure key-based authentication for SSH</a></li>
            <li><a href="#set-enforcing-and-permissive-modes-for-selinux">Set enforcing and permissive modes for SELinux</a></li>
            <li><a href="#list-and-identify-selinux-file-and-process-context">List and identify SELinux file and process context</a></li>
            <li><a href="#restore-default-file-contexts">Restore default file contexts</a></li>
            <li><a href="#manage-selinux-port-labels">Manage SELinux port labels</a></li>
            <li><a href="#use-boolean-settings-to-modify-system-selinux-settings">Use boolean settings to modify system SELinux settings</a></li>
            <li><a href="#diagnose-and-address-routine-selinux-policy-violations">Diagnose and address routine SELinux policy violations</a></li>
          </ul>
        </li>
        <li><a href="#manage-containers">Manage containers</a>
          <ul>
            <li><a href="#find-and-retrieve-container-images-from-a-remote-registry">Find and retrieve container images from a remote registry</a></li>
            <li><a href="#inspect-container-images">Inspect container images</a></li>
            <li><a href="#perform-container-management-using-commands-such-as-podman-and-skopeo">Perform container management using commands such as podman and skopeo</a></li>
            <li><a href="#build-a-container-from-a-containerfile">Build a container from a Containerfile</a></li>
            <li><a href="#perform-basic-container-management-such-as-running-starting-stopping-and-listing-running-containers">Perform basic container management such as running, starting, stopping, and listing running containers</a></li>
            <li><a href="#run-a-service-inside-a-container">Run a service inside a container</a></li>
            <li><a href="#configure-a-container-to-start-automatically-as-a-systemd-service">Configure a container to start automatically as a systemd service</a></li>
            <li><a href="#attach-persistent-storage-to-a-container">Attach persistent storage to a container</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
  

  <div class="post-content"><div>
        <h1 id="introduction">Introduction<a href="#introduction" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>You can create a RedHat developer account for free which includes a RHEL subscription for up to 16 devices: <a href="https://developers.redhat.com/">https://developers.redhat.com/</a></p>
<p>I&rsquo;ll be updating this as I go through practice tasks before taking the RHCSA exam!<br>
Exam is booked in for <strong>26/09/23</strong></p>
<h2 id="understand-and-use-essential-tools">Understand and use essential tools<a href="#understand-and-use-essential-tools" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="access-a-shell-prompt-and-issue-commands-with-correct-syntax">Access a shell prompt and issue commands with correct syntax<a href="#access-a-shell-prompt-and-issue-commands-with-correct-syntax" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>I would say this objective is well covered throughout, so I wont add any explanations or examples here</p>
<h3 id="use-input-output-redirection----2-etc">Use input-output redirection (&gt;, &raquo;, |, 2&gt;, etc.)<a href="#use-input-output-redirection----2-etc" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>STDIN (user) <strong>-&gt;</strong> CMD <strong>-&gt;</strong> STDOUT (console/screen)</p>
<p>Read a file as standard input = &ldquo;<strong>&lt;</strong>&rdquo; which changes the flow to &lsquo;CMD <strong>-&gt;</strong> FILE <strong>-&gt;</strong> STDOUT&rsquo; with the file replacing STDIN</p>
<p>Send the standard output to a file = &ldquo;<strong>&gt;</strong>&rdquo; which changes the flow to &lsquo;STDIN <strong>-&gt;</strong> CMD <strong>-&gt;</strong> file&rsquo; with the file now replacing STDOUT<br>
<code>ls &gt; lsresult</code></p>
<p>Redirect STDERR (error messages) = &ldquo;<strong>2&gt;</strong>&rdquo; which sends any error messages to the defined location<br>
<code>ls jibberish 2&gt; errors</code><br>
<code>ls jibberish 2&gt; /dev/null</code></p>
<p>Send the standard output to a file but this time append the file = &ldquo;<strong>&raquo;</strong>&rdquo; which changes the flow to &lsquo;STDIN <strong>-&gt;</strong> CMD <strong>-&gt;</strong> file&rsquo; with the file now replacing STDOUT and the STDOUT will append rather than write/overwrite<br>
<code>ls /etc &gt;&gt; lsetcresultappend</code>
<code>ls /etc &gt;&gt; lsetcresultappend</code></p>
<p>Piping = &ldquo;<strong>|</strong>&rdquo; will use the result of the previous command as the STDINPUT of another command<br>
<code>ls -l /etc | wc</code></p>
<h3 id="use-grep-and-regular-expressions-to-analyze-text">Use grep and regular expressions to analyze text<a href="#use-grep-and-regular-expressions-to-analyze-text" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Find the text &ldquo;ssh&rdquo; in the output of &lsquo;ps aux&rsquo;: <code>ps aux | grep ssh</code><br>
Recursively search for the text &ldquo;root&rdquo; in /etc&quot;: <code>grep -R root /etc</code><br>
Find the text &ldquo;adam&rdquo; in /etc/shadow but case-insensitive: <code>grep -i Adam /etc/shadow</code></p>
<h3 id="access-remote-systems-using-ssh">Access remote systems using SSH<a href="#access-remote-systems-using-ssh" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Connect to a remote system using SSH: <code>ssh username@10.0.0.1</code><br>
Things to keep in mind: <code>~/.ssh/known_hosts</code> which is a record of public keys for hosts you have connected to previously</p>
<h3 id="log-in-and-switch-users-in-multiuser-targets">Log in and switch users in multiuser targets<a href="#log-in-and-switch-users-in-multiuser-targets" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Change virtual terminal: <code>chvt 4</code> Can also be done with CTL+ALT+F[1-6] when using console or phsyical logins<br>
Use &ldquo;w&rdquo; command to see all logged in users: <code>w</code><br>
Use &ldquo;su&rdquo; to change user to root: <code>su -</code><br>
Use &ldquo;sudo&rdquo; to run commands as root: <code>sudo command -options</code></p>
<h3 id="archive-compress-unpack-and-uncompress-files-using-tar-star-gzip-and-bzip2">Archive, compress, unpack, and uncompress files using tar, star, gzip, and bzip2<a href="#archive-compress-unpack-and-uncompress-files-using-tar-star-gzip-and-bzip2" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Create an XZ compressed archive of the home folder: <code>tar cJvf homefolder.tar.xz /home</code><br>
Extract a compressed archive into a folder: <code>tar xvf homefolder.tar.xz -C /tmp/archive</code></p>
<h3 id="create-and-edit-text-files">Create and edit text files<a href="#create-and-edit-text-files" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Replace all occurrences of a word in a text file: <code>sed -i s/originalword/replacementword/g /etc/service.conf</code><br>
Using vim is out of scope for these study notes, check out <a href="https://www.linuxfoundation.org/blog/blog/classic-sysadmin-vim-101-a-beginners-guide-to-vim">https://www.linuxfoundation.org/blog/blog/classic-sysadmin-vim-101-a-beginners-guide-to-vim</a></p>
<h3 id="create-delete-copy-and-move-files-and-directories">Create, delete, copy, and move files and directories<a href="#create-delete-copy-and-move-files-and-directories" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Create a directory: <code>mkdir directoryname</code><br>
Create a sub directory in directory that doesn&rsquo;t already exist: <code>mkdir -p /tmp/newdir/newdir2</code><br>
Copy all files starting with the letter &lsquo;a&rsquo;, &lsquo;b&rsquo; or &lsquo;c&rsquo; from /etc into /tmp/files: <code>cp /etc/[a-c]* /tmp/files</code><br>
Move all files starting with the letters &lsquo;a&rsquo; or &lsquo;b&rsquo; to a subfolder: <code>mv [a-b]* /tmp/files/folder1</code><br>
Move all files starting with the letter &lsquo;c&rsquo; into a sub folder: <code>mv c* /tmp/files/folder2</code><br>
Copy all files smaller than 1KB into a sub folder: <code>find -size -1000c -exec cp {} /tmp/files/folder3 \;</code></p>
<h3 id="create-hard-and-soft-links">Create hard and soft links<a href="#create-hard-and-soft-links" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Consider hard links as similar to an additional copy of a file<br>
Consider soft/symbolic links as similar to a shortcut to a file</p>
<p>Hard link <code>ln /etc/hosts /root/hardlinkhosts</code><br>
Soft link <code>ln -s /etc/hosts /root/symboliclinkhosts</code></p>
<h3 id="list-set-and-change-standard-ugorwx-permissions">List, set, and change standard ugo/rwx permissions<a href="#list-set-and-change-standard-ugorwx-permissions" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>List the contents of a folder including the permissions: <code>ls -la</code> or <code>ls -la /folder/path</code></p>
<p>Change the permissions of a folder or file: <code>chmod 770 file</code> or <code>chmod u+wr file</code> or <code>chmod g-w folder</code><br>
Set the permissions of a folder or file while removing any existing permissions: <code>chmod u=rw,g=r file</code></p>
<p>Set user owner and group owner of a file: <code>chown user:group file</code><br>
Set user owner and group owner of a folder and apply recursively: <code>chown -R user:group folder</code></p>
<p>Set a default filesystem ACL for a group to always have read access to a folder: <code>setfacl -m d:g:groupname:rx /folder/path</code><br>
List existing filesystem ACL&rsquo;s for a folder: <code>getfacl /folder/path</code></p>
<h3 id="locate-read-and-use-system-documentation-including-man-info-and-files-in-usrsharedoc">Locate, read, and use system documentation including man, info, and files in /usr/share/doc<a href="#locate-read-and-use-system-documentation-including-man-info-and-files-in-usrsharedoc" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Update mandb to be able to search for text: <code>mandb</code><br>
<code>man -k searchtext</code><br>
<code>man command</code></p>
<p><code>more /usr/share/doc/openssh/README</code><br>
<code>less /usr/share/doc/lvm2/README</code></p>
<h2 id="create-simple-shell-scripts">Create simple shell scripts<a href="#create-simple-shell-scripts" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="conditionally-execute-code-use-of-if-test--etc">Conditionally execute code (use of: if, test, [], etc.)<a href="#conditionally-execute-code-use-of-if-test--etc" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<pre tabindex="0"><code>#!/bin/bash
# Example bash script to check for an input

if [ -z $1 ]
then
	echo &quot;an input is required&quot;
else
	echo &quot;you have provided the input $1&quot;
fi
</code></pre><h3 id="use-looping-constructs-for-etc-to-process-file-command-line-input">Use Looping constructs (for, etc.) to process file, command line input<a href="#use-looping-constructs-for-etc-to-process-file-command-line-input" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h3 id="process-script-inputs-1-2-etc">Process script inputs ($1, $2, etc.)<a href="#process-script-inputs-1-2-etc" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h3 id="processing-output-of-shell-commands-within-a-script">Processing output of shell commands within a script<a href="#processing-output-of-shell-commands-within-a-script" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h2 id="operate-running-systems">Operate running systems<a href="#operate-running-systems" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Display memory usage: <code>free -m</code><br>
Display uptime and load average: <code>uptime</code><br>
Nice levels for processes: <strong>-20</strong> is highest priority and <strong>19</strong> is lowest priority</p>
<h3 id="boot-reboot-and-shut-down-a-system-normally">Boot, reboot, and shut down a system normally<a href="#boot-reboot-and-shut-down-a-system-normally" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Reboot a system: <code>reboot</code><br>
Shutdown a system: <code>shutdown -h now</code>  (Can specify a time delay in the -h switch)
Power off a system: <code>poweroff</code></p>
<h3 id="boot-systems-into-different-targets-manually">Boot systems into different targets manually<a href="#boot-systems-into-different-targets-manually" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Show the current boot target: <code>systemctl get-default</code><br>
Switch into a new target manually: <code>systemctl isolate multi-user.target</code><br>
Set a new default boot target: <code>systemctl set-default multi-user.target</code></p>
<h3 id="interrupt-the-boot-process-in-order-to-gain-access-to-a-system">Interrupt the boot process in order to gain access to a system<a href="#interrupt-the-boot-process-in-order-to-gain-access-to-a-system" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Hit the arrow keys during the grub menu to prevent the timeout from ticking down and proceeding with the boot process<br>
Hit the <code>e</code> key to edit the grub boot options<br>
Find the line specifying the Linux kernel options and append <code>rd.break</code><br>
Hit <code>ctrl+x</code> to continue the boot process with your customizations<br>
You will be booted into emergency mode working from initramfs (actual system has not booted at all)<br>
Mount the root volume so we can make our changes: <code>mount -o remount,rw /sysroot</code><br>
Change the shell environment to use the actual system root: <code>chroot /sysroot</code><br>
Change the root password: <code>passwd root</code><br>
Reset/Fix the selinux labels so it&rsquo;s possible to boot cleanly with the new root password: <code>touch /.autorelabel</code><br>
Hit <code>ctrl+d</code> to exit the chroot environment<br>
Hit <code>ctrl+d</code> again to continue the boot process</p>
<h3 id="identify-cpumemory-intensive-processes-and-kill-processes">Identify CPU/memory intensive processes and kill processes<a href="#identify-cpumemory-intensive-processes-and-kill-processes" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Detailed overview of running processes: <code>ps aux</code><br>
This will output a lot of text so it&rsquo;s good to use less and step through the output with spacebar: <code>ps aux | less</code></p>
<p>Overview of running processes and their hierarchical relation: <code>ps fax</code><br>
List of processes for a specific user: <code>ps fU adam</code></p>
<p>Display system resource usage: <code>top</code><br>
For <strong>CPU%</strong> - <strong>us</strong> = user | <strong>sy</strong> = system | <strong>ni</strong> = nice | <strong>wa</strong> = wait time (IO) | <strong>hi</strong> = hardware interrupts | <strong>si</strong> = software interrupts<br>
Press <code>f</code> to change display settings and sorting<br>
Press <code>k</code> to send the kill signal to the top process with &ldquo;<!-- raw HTML omitted -->&rdquo; or &ldquo;<!-- raw HTML omitted -->&rdquo; to send the kill signal to a specific process based on PID<br>
Press <code>r</code> to renice (change the nice value) of a process</p>
<p>Kill a process: <code>kill PID</code> (polite method, process gets the opportunity to shutdown cleanly)<br>
Kill a process: <code>kill -9 PID</code> (forced, can cause data loss for the process that&rsquo;s force killed)<br>
Kill all instances of a specific processes: <code>killall processname</code></p>
<h3 id="adjust-process-scheduling">Adjust process scheduling<a href="#adjust-process-scheduling" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Run a process with lower priority: <code>nice 15 command</code><br>
Change the priority of a running process: <code>renice -n -10 PID</code></p>
<h3 id="manage-tuning-profiles">Manage tuning profiles<a href="#manage-tuning-profiles" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Ensure the <strong>tuned</strong> service is running: <code>systemctl status tuned</code><br>
Show current tuned profile: <code>tuned-adm active</code><br>
Show list of all tuned profiles available: <code>tuned-adm list</code><br>
Set a specific tuned profile: <code>tuned-adm profile profilename</code></p>
<h3 id="locate-and-interpret-system-log-files-and-journals">Locate and interpret system log files and journals<a href="#locate-and-interpret-system-log-files-and-journals" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Logs are now handled by <strong>systemd-journald</strong> in binary format but still get passed to <strong>rslogd</strong> which stores the logs in text format in <code>/var/log</code><br>
View the journal for a specific service: <code>systemctl status httpd</code></p>
<p>Send specific logs or severity of logs to it&rsquo;s own log file: <code>vim /etc/rsyslog.conf</code><br>
Create a custom logrotate entry to rotate these logs: <code>vim /etc/logrotate.d/example</code></p>
<pre tabindex="0"><code>/var/log/example {
    monthly
    rotate 12
}
</code></pre><h3 id="preserve-system-journals">Preserve system journals<a href="#preserve-system-journals" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Value inside <code>/etc/systemd/journald.conf</code> the default will be &ldquo;Storage=Auto&rdquo; which will then persist logs if the folder <code>/var/log/journal</code> exists<br>
Make the systemd-journald logs persistent: <code>mkdir -p /var/log/journal</code></p>
<h3 id="start-stop-and-check-the-status-of-network-services">Start, stop, and check the status of network services<a href="#start-stop-and-check-the-status-of-network-services" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Check the status of a network service: <code>systemctl status servicename</code><br>
Start a network service: <code>systemctl start servicename</code><br>
Stop a network service: <code>systemctl stop servicename</code></p>
<h3 id="securely-transfer-files-between-systems">Securely transfer files between systems<a href="#securely-transfer-files-between-systems" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>There are 3 options all made possible by SSH: <code>scp</code> and <code>sftp</code> and <code>rsync</code></p>
<p><strong>scp</strong> is the most compatible option<br>
<strong>sftp</strong> creates a regular FTP session using SSH<br>
<strong>rsync</strong> will now also by default use SSH (no need for the <code>-e ssh</code> option)</p>
<p>Use SCP to transfer some local files to a remote destination: <code>scp localfile01 localfile02 username@192.168.10.2:/remote/directory</code></p>
<p>Use SFTP to securely transfer files: <code>sftp username@192.168.10.2</code><br>
Download a file via SFTP: <code>get filename</code><br>
Upload a file via SFTP: <code>put filename</code></p>
<p>Download a directory and it&rsquo;s contents using rsync: <code>rsync -ar username@192.168.10.2:/etc /home/adam/rsyncdemo</code>  in format &ldquo;:/remote/directory /local/directory&rdquo;</p>
<h2 id="configure-local-storage">Configure local storage<a href="#configure-local-storage" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>List block devices: <code>lsblk</code><br>
Get UUID and labels of block devices: <code>blkid</code><br>
The block devices can be found in <code>/dev/devicename</code></p>
<h3 id="list-create-delete-partitions-on-mbr-and-gpt-disks">List, create, delete partitions on MBR and GPT disks<a href="#list-create-delete-partitions-on-mbr-and-gpt-disks" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p><strong>Use parted for EFI/GPT</strong>: <code>parted /dev/sdX</code><br>
List partitions with parted: <code>print</code><br>
Create a GPT partition table with parted: <code>mklabel</code><br>
Create a new GPT partition with parted: <code>mkpart</code><br>
Delete a partition with parted:  <code>rm</code><br>
Set a partition for use by LVM: <code>set N lvm on</code></p>
<p><strong>Use fdisk for BIOS/MBR</strong>: <code>fdisk /dev/sdX</code><br>
List partitions with fdisk: <code>print</code><br>
Create a MBR partition table with fdisk: <code>o</code><br>
Create a new partition with fdisk: <code>n</code><br>
Delete a partition with fdisk: <code>d</code></p>
<h3 id="create-and-remove-physical-volumes">Create and remove physical volumes<a href="#create-and-remove-physical-volumes" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Initialize a partition for use with LVM: <code>pvcreate /dev/sdb4</code><br>
Initialize another partition for use with LVM: <code>pvcreate /dev/sdb5</code><br>
Initialize a disk for use with LVM: <code>pvcreate /dev/sdc</code><br>
Remove a physical volume: <code>pvremove /dev/sdb4</code></p>
<h3 id="assign-physical-volumes-to-volume-groups">Assign physical volumes to volume groups<a href="#assign-physical-volumes-to-volume-groups" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Create a volume group from two physical volumes: <code>vgcreate volumegroup01 /dev/sdb4 /dev/sdb5</code><br>
This will automatically initialize/create the physical volumes if they hadn&rsquo;t already been done like in the step above</p>
<h3 id="create-and-delete-logical-volumes">Create and delete logical volumes<a href="#create-and-delete-logical-volumes" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Create a logical volume using 100% of the available space in a volume group: <code>lvcreate -l100%FREE volumegroup01 -n logicalvolume01</code><br>
Delete a logical volume: <code>lvremove volumegroup01/logicalvolume01</code><br>
Create a logical volume of a specific size: <code>lvcreate -L 1.5G volumegroup01 -n logicalvolume02</code></p>
<h3 id="configure-systems-to-mount-file-systems-at-boot-by-universally-unique-id-uuid-or-label">Configure systems to mount file systems at boot by universally unique ID (UUID) or label<a href="#configure-systems-to-mount-file-systems-at-boot-by-universally-unique-id-uuid-or-label" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>To mount by label when editing /etc/fstab use: <code>LABEL=labelofpartition</code>  to specify the device<br>
To mount by UUID when editing /etc/fstab use: <code>UUID=&quot;000000011-0001-ab00-ba0000001234&quot;</code>  to specify the device</p>
<p>** You can also use systemd-mount which I&rsquo;ll not cover for now **</p>
<h3 id="add-new-partitions-and-logical-volumes-and-swap-to-a-system-non-destructively">Add new partitions and logical volumes, and swap to a system non-destructively<a href="#add-new-partitions-and-logical-volumes-and-swap-to-a-system-non-destructively" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Format a swap partition: <code>mkswap /dev/sdX</code><br>
Mount a swap partition: <code>swapon -a</code> or <code>swapon /dev/sdX</code></p>
<h2 id="create-and-configure-file-systems">Create and configure file systems<a href="#create-and-configure-file-systems" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="create-mount-unmount-and-use-vfat-ext4-and-xfs-file-systems">Create, mount, unmount, and use vfat, ext4, and xfs file systems<a href="#create-mount-unmount-and-use-vfat-ext4-and-xfs-file-systems" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Format a partition with XFS: <code>mkfs.xfs /dev/sdX</code><br>
Format a partition with EXT4: <code>mkfs.ext4 /dev/sdX</code><br>
Format a partition with VFAT: <code>mkfs.vfat /dev/sdX</code></p>
<p>Format a LVM logical volume with XFS: <code>mkfs.xfs /dev/mapper/volumegroup01-logicalvolume02</code></p>
<p>Mount a filesystem: <code>mount /dev/sdX /mount/location</code><br>
Unmount a filesystem: <code>umount /mount/location</code></p>
<p>Show existing mounts: <code>mount</code> or <code>findmnt</code></p>
<h3 id="mount-and-unmount-network-file-systems-using-nfs">Mount and unmount network file systems using NFS<a href="#mount-and-unmount-network-file-systems-using-nfs" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Show available exports: <code>showmount -e 192.168.10.2</code><br>
Mount the available share: <code>mount 192.168.10.2:/data /mnt/nfs</code><br>
Make the mount persistent by adding it to fstab by adding the below entry:</p>
<pre tabindex="0"><code>192.168.10.2:/data  /mnt/nfs    nfs _netdev 0 0
</code></pre><p>I have tested that using &ldquo;defaults&rdquo; like other mounts instead of &ldquo;_netdev&rdquo; also works</p>
<h3 id="configure-autofs">Configure autofs<a href="#configure-autofs" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Install required packages: <code>yum install autofs</code><br>
This will create the files <code>/etc/auto.master</code> and other auto.* files</p>
<p>Auto mount the /data export on /files: <code>vim /etc/auto.master</code><br>
Add the line:</p>
<pre tabindex="0"><code>/files   /etc/auto.files
</code></pre><p>Create the file /etc/auto.files to define the NFS share for auto mounting: <code>vim /etc/auto.files</code><br>
Add the line:</p>
<pre tabindex="0"><code>data    -rw 192.168.10.2:/data
</code></pre><p>Wildcard mounting for example home user directories, inside auto.ldap:</p>
<pre tabindex="0"><code>*   -rw servername:/users/&amp;
</code></pre><h3 id="extend-existing-logical-volumes">Extend existing logical volumes<a href="#extend-existing-logical-volumes" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Extend a logical volume by 2GB and resize the filesystem: <code>lvextend -L +2GB volumegroup01/logicalvolume02 -r</code><br>
Extend a logical volume to use all available free space: <code>lvextend -l +100%FREE volumegroup01/logicalvolume02</code></p>
<h3 id="create-and-configure-set-gid-directories-for-collaboration">Create and configure set-GID directories for collaboration<a href="#create-and-configure-set-gid-directories-for-collaboration" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h3 id="diagnose-and-correct-file-permission-problems">Diagnose and correct file permission problems<a href="#diagnose-and-correct-file-permission-problems" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h2 id="deploy-configure-and-maintain-systems">Deploy, configure, and maintain systems<a href="#deploy-configure-and-maintain-systems" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="schedule-tasks-using-at-and-cron">Schedule tasks using at and cron<a href="#schedule-tasks-using-at-and-cron" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Create a user-specific cron job with: <code>contrab -e</code></p>
<table>
<thead>
<tr>
<th>Cron file format needs to be as follows:</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>minute</td>
<td>hour</td>
<td>day of month</td>
<td>month</td>
<td>day of week</td>
<td>command to run</td>
</tr>
<tr>
<td>0-59</td>
<td>0-23</td>
<td>1-31</td>
<td>1-12</td>
<td>0-7 (0 or 7 is Sunday)</td>
<td></td>
</tr>
</tbody>
</table>
<p>Hourly, Daily, Weekly and Monthly cron jobs that are generally installed by packages can be found in <code>/etc/cron.d</code></p>
<p>You can use at to schedule a job to run at a specific time
<code>at 19:17</code> followed by entering the command to run in the prompt: <code>logger send a message to the log</code> followed by <code>ctrl+d</code><br>
List jobs in the &ldquo;at&rdquo; queue: <code>atq</code><br>
Remove a job from the &ldquo;at&rdquo; queue: <code>atrm jobnumber</code></p>
<p>Another option is systemd timers which don&rsquo;t look to be an exam objective, you can find some that come preconfigured in <code>/usr/lib/systemd/system</code><br>
These can be enabled and started like any other systemd unit: <code>systemctl enable example.timer</code> and <code>systemd start example.timer</code></p>
<h3 id="start-and-stop-services-and-configure-services-to-start-automatically-at-boot">Start and stop services and configure services to start automatically at boot<a href="#start-and-stop-services-and-configure-services-to-start-automatically-at-boot" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Start a service: <code>systemctl start servicename</code><br>
Stop a service: <code>systemctl stop servicename</code><br>
Check the status of a service: <code>systemctl status servicename</code><br>
Set a service to start on boot: <code>systemctl enable servicename</code><br>
Stop a service from starting on boot: <code>systemctl disable servicename</code></p>
<p>List systemd unit types: <code>systemctl -t help</code><br>
List running units: <code>systemctl list-units</code></p>
<p>Reload systemd units after making changes: <code>systemctl daemon-reload</code></p>
<p>Edit a systemd service and have it always restart after a 1 minute delay:
<code>systemctl edit httpd</code><br>
In the text editor that opens, add in</p>
<pre tabindex="0"><code>[Service]
Restart=always
RestartSec=60s
</code></pre><p>Reload systemd units: <code>systemctl daemon-reload</code><br>
Set the service to start at boot and start it now: <code>systemctl enable --now httpd</code>
Kill the service: <code>killall httpd</code><br>
Check that the service has stopped and it&rsquo;s Active status is &ldquo;Activating&rdquo; - this should show that it will auto-restart in 60 seconds<br>
<code>systemctl status httpd</code></p>
<h3 id="configure-systems-to-boot-into-a-specific-target-automatically">Configure systems to boot into a specific target automatically<a href="#configure-systems-to-boot-into-a-specific-target-automatically" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h3 id="configure-time-service-clients">Configure time service clients<a href="#configure-time-service-clients" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>See current time status: <code>timedatectl status</code><br>
Set the timezone: <code>timedatectl set-timezone Country/State</code><br>
Time should be synchronized from NTP by default, NTP servers can be set in <code>/etc/chrony.conf</code></p>
<h3 id="install-and-update-software-packages-from-red-hat-network-a-remote-repository-or-from-the-local-file-system">Install and update software packages from Red Hat Network, a remote repository, or from the local file system<a href="#install-and-update-software-packages-from-red-hat-network-a-remote-repository-or-from-the-local-file-system" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Installing packages from Red Hat network requires registering a subscription which can be done with Subscription Manager<br>
Register subscription: <code>subscription-manager register</code> (provide username and password)<br>
Connect the subscription: <code>subscription-manager attach --auto</code></p>
<p>Search for a package: <code>yum search packagename</code><br>
Find a package that contains a wanted tool: <code>yum provides setools</code><br>
Show info/description of a package: <code>yum info packagename</code><br>
Show all available packages: <code>yum list</code> and show installed packages: <code>yum list installed</code><br>
Install a package: <code>yum install packagename</code><br>
Remove a package: <code>yum remove packagename</code></p>
<p>Check for newer versions of installed packages: <code>yum update</code><br>
Check for a newer version of a specific package: <code>yum update packagename</code></p>
<p>Download the rpm of an available package: <code>yumdownloader httpd</code> or <code>dnf download httpd</code><br>
Check an rpm file for any scripts: <code>rpm -qp --scripts httpd-2.4.57-5.el9.x86_64.rpm</code></p>
<p><strong>$$ need to add something for &ldquo;yum groups&rdquo; and &ldquo;yum modules&rdquo; $$</strong></p>
<p>Create a <strong>local</strong> repo for installing packages:<br>
Create an ISO from the dvd drive: <code>dd if=/dev/sr0 of=/rhel92.iso bs=1M</code><br>
Create a mount point: <code>mkdir /repo</code><br>
Mount the ISO as <strong>/repo</strong> by editing <strong>/etc/fstab</strong> and adding <code>/rhel92.iso /repo iso9660 defaults 0 0</code> followed by <code>systemctl daemon-reload</code> and <code>mount -a</code></p>
<p>Create a yum repo with an entry for the above starting with BaseOS and then AppStream:</p>
<p><code>vim /etc/yum.repos.d/baseos.repo</code><br>
Enter the contents:</p>
<pre tabindex="0"><code>    [BaseOS]  
    name=BaseOS  
    baseurl=file:///repo/BaseOS 
    gpgcheck=0  
</code></pre><p><code>vim /etc/yum.repos.d/appstream.repo</code><br>
Enter the contents:</p>
<pre tabindex="0"><code>    [AppStream]  
    name=AppStream  
    baseurl=file:///repo/AppStream  
    gpgcheck=0  
</code></pre><h3 id="modify-the-system-bootloader">Modify the system bootloader<a href="#modify-the-system-bootloader" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Edit grub config to have a more verbose boot: <code>vim /etc/default/grub</code>  and find &ldquo;GRUB_CMDLINE_LINUX&rdquo; then remove &lsquo;rhgb quiet&rsquo; from the options<br>
Write out a new grub config [BIOS]: <code>grub2-mkconfig -o /boot/grub2/grubg.cg</code><br>
Write out a new grub config [UEFI]: <code>grub2-mkconfig -o /boot/efi/EFI/redhat/grub.cfg</code></p>
<h2 id="manage-basic-networking">Manage basic networking<a href="#manage-basic-networking" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>General tools for network info: <code>ip addr</code> and <code>ip -s link</code> and <code>ip route</code></p>
<h3 id="configure-ipv4-and-ipv6-addresses">Configure IPv4 and IPv6 addresses<a href="#configure-ipv4-and-ipv6-addresses" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Use <strong>NetworkManager CLI</strong> to configure networking:<br>
Create static connection with the name &ldquo;example-static&rdquo;: <code>nmcli con add type ethernet con-name example-static ifname enp2s0 ip4 192.168.1.100/24 gw4 192.168.1.1</code><br>
Add DNS to the connection &ldquo;example-static&rdquo;: <code>nmcli con mod example-static ipv4.dns “8.8.8.8 8.8.4.4”</code></p>
<p>Use <strong>NetworkManager console GUI</strong> to configure networking: <code>nmtui</code><br>
Use <code>arrow keys, tab, spacebar and enter</code> to navigate menu options for configuring network settings</p>
<h3 id="configure-hostname-resolution">Configure hostname resolution<a href="#configure-hostname-resolution" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Check current configuration: <code>hostnamectl</code><br>
Set a hostname for the server: <code>hostnamectl hostname rchsa01</code><br>
Set the FQDN for the server: <code>hostnamectl hostname rhcsa02.example.com</code></p>
<p>If there&rsquo;s any issues with hostname resolution you can check <code>/etc/resolv.conf</code>  which should say this file is managed by NetworkManager
Set DNS for a connection named &ldquo;example-static&rdquo;: <code>nmcli con mod example-static ipv4.dns “8.8.8.8 8.8.4.4”</code>
Confirm hostname resolution is working using <code>dig</code> or <code>ping hostname.com</code></p>
<h3 id="configure-network-services-to-start-automatically-at-boot">Configure network services to start automatically at boot<a href="#configure-network-services-to-start-automatically-at-boot" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Start a network service: <code>systemctl start httpd</code><br>
Set the network service to start automatically at boot: <code>systemctl enable httpd</code></p>
<h3 id="restrict-network-access-using-firewall-cmdfirewall">Restrict network access using firewall-cmd/firewall<a href="#restrict-network-access-using-firewall-cmdfirewall" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Show current config: <code>firewall-cmd --list-all</code> <br>
Block HTTPS traffic for runtime: <code>firewall-cmd --remove-service https</code><br>
Block HTTPS traffic and make it persistent: <code>firewall-cmd --remove-service https --permanent</code><br>
Reload firewall: <code>firewall-cmd --reload</code></p>
<h2 id="manage-users-and-groups">Manage users and groups<a href="#manage-users-and-groups" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="create-delete-and-modify-local-user-accounts">Create, delete, and modify local user accounts<a href="#create-delete-and-modify-local-user-accounts" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Create a user with a comment associated with the account: <code>useradd -c &quot;this is a new user&quot; notadam</code><br>
Create a new user without a comment: <code>useradd notadam2</code></p>
<p>Remove a user: <code>userdel notadam2</code><br>
Remove a user and remove their home directory: <code>userdel -r notadam</code></p>
<p>Specify files to be created in users home directories by default: <strong>/etc/skel</strong></p>
<h3 id="change-passwords-and-adjust-password-aging-for-local-user-accounts">Change passwords and adjust password aging for local user accounts<a href="#change-passwords-and-adjust-password-aging-for-local-user-accounts" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Change the password for your currently logged in account: <code>passwd</code><br>
Change the password for another account (requires root): <code>passwd username</code></p>
<p>Set password aging in <code>/etc/login.defs</code><br>
Find the variable named <strong>PASS_MAX_DAYS</strong><br>
Setting password aging in /etc/login.defs will only apply to newly created accounts<br>
Set the minimum password age for an existing account: <code>chage -m 3 username</code><br>
Set the maximum password age for an existing account: <code>chage -M 90 username</code></p>
<h3 id="create-delete-and-modify-local-groups-and-group-memberships">Create, delete, and modify local groups and group memberships<a href="#create-delete-and-modify-local-groups-and-group-memberships" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Add user to the group &ldquo;wheel&rdquo;: <code>usermod -aG wheel adam</code><br>
Using the -a switch along with the -G switch means it will <strong>append</strong> group memberships rather than replace</p>
<p>List members of a group: <code>lid -g groupname</code><br>
Delete a group: <code>groupdel groupname</code><br>
Change the name of a group: <code>groupmod -n newgroupname oldgroupname</code></p>
<h3 id="configure-superuser-access">Configure superuser access<a href="#configure-superuser-access" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>View current config of sudo/superuser access: <code>visduo /etc/sudoers</code><br>
Members of the group &ldquo;wheel&rdquo; should be allowed sudo/superuser access
Add a user to group &ldquo;wheel&rdquo;: <code>usermod -aG wheel username</code><br>
You can now run things as superuser/root by using &ldquo;sudo&rdquo; in front of the commands: <code>sudo reboot</code></p>
<p>Grant superuser access only for specific commands: <code>visduo /etc/sudoers</code><br>
Add the following line to the sudoers file: <code>username ALL=(root) /bin/ping</code><br>
The above will allow the user to execute &ldquo;/bin/ping&rdquo; as root</p>
<h2 id="manage-security">Manage security<a href="#manage-security" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="configure-firewall-settings-using-firewall-cmdfirewalld">Configure firewall settings using firewall-cmd/firewalld<a href="#configure-firewall-settings-using-firewall-cmdfirewalld" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Show current config: <code>firewall-cmd --list-all</code><br>
List pre-defined services that can be allowed through the firewall: <code>firewall-cmd --list-services</code><br>
Allow HTTPS traffic for runtime: <code>firewall-cmd --add-service https</code><br>
Allow HTTPS traffic and make it persistent: <code>firewall-cmd --add-service https --permanent</code><br>
Reload firewall: <code>firewall-cmd --reload</code></p>
<h3 id="manage-default-file-permissions">Manage default file permissions<a href="#manage-default-file-permissions" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h3 id="configure-key-based-authentication-for-ssh">Configure key-based authentication for SSH<a href="#configure-key-based-authentication-for-ssh" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Create a public/private key pair for current user: <code>ssh-keygen</code><br>
Note: The public key can be shared<br>
Note: The private key must not be shared and must be stored securely</p>
<p>Transfer the public key to destination server: <code>ssh-copy-id 192.168.10.10</code></p>
<p>You should now be able to login using pubkey authentication as it&rsquo;s enabled by default</p>
<p>To review current ssh server configuration check: <code>vim /etc/ssh/sshd_config</code>  You should see the line <code>#PubKeyAuthentication yes</code> it is commented out because it&rsquo;s the default setting</p>
<p>Some settings that you might like to change in there would be <code>PasswordAuthentication</code> and <code>PermitRootLogin</code>  disabling both of these is generally a good option for improved security</p>
<p>To restrict SSH login to specific users, the users can be defined with <code>AllowUsers username1 username2</code></p>
<h3 id="set-enforcing-and-permissive-modes-for-selinux">Set enforcing and permissive modes for SELinux<a href="#set-enforcing-and-permissive-modes-for-selinux" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Check the current SELinux status: <code>getenforce</code><br>
Change the SELinux mode to permissive: <code>setenforce permissive</code><br>
Change the SELinux mode to enforcing: <code>setenforce enforcing</code></p>
<h3 id="list-and-identify-selinux-file-and-process-context">List and identify SELinux file and process context<a href="#list-and-identify-selinux-file-and-process-context" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>SELinux contexts follow the below standard:
<strong>user</strong> specific context (you will see this as _u)<br>
<strong>role</strong> specific context (you will see this as _r)<br>
<strong>type</strong> which defines allowed operations (you will see this as _t)</p>
<p>List directory contents including SELinux file contexts: <code>ls -laZ</code><br>
List processes including SELinux process contexts: <code>ps auxZ</code><br>
Find the SELinux process context for httpd: <code>ps auxZ | grep httpd</code></p>
<h3 id="restore-default-file-contexts">Restore default file contexts<a href="#restore-default-file-contexts" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Restore defaults as per policy for the entire filesystem: <code>touch /.autorelabel</code> followed by rebooting<br>
Change the SELinux context on folder /web: <code>semanage-fcontext -a -t httpd_sys_content_t &quot;/web(/.*)?&quot;</code><br>
Restore contexts per policy for a specific folder: <code>restorecon -R -v /web</code></p>
<h3 id="manage-selinux-port-labels">Manage SELinux port labels<a href="#manage-selinux-port-labels" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h3 id="use-boolean-settings-to-modify-system-selinux-settings">Use boolean settings to modify system SELinux settings<a href="#use-boolean-settings-to-modify-system-selinux-settings" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>List all SELinux boolean options: <code>getsebool -a</code><br>
Set a SELinux boolean value persistently: <code>setsebool -P &lt;option&gt; [on/off]</code><br>
For example, allow httpd access to user home directories: <code>setsebool -P httpd_enable_homedirs on</code></p>
<h3 id="diagnose-and-address-routine-selinux-policy-violations">Diagnose and address routine SELinux policy violations<a href="#diagnose-and-address-routine-selinux-policy-violations" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Check for sealerts in /var/log/messages: <code>grep sealert /var/log/messages</code><br>
Do the same with journalctl: <code>journalctl | grep sealert</code><br>
Analyze the audit log and provide a human readable output with suggestions: <code>sealert -a /var/log/audit/audit.log</code></p>
<p>Search &ldquo;/var/log/audit.log&rdquo; for messages with AVC: <code>grep AVC /var/log/audit/audit.log</code></p>
<h2 id="manage-containers">Manage containers<a href="#manage-containers" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>Install required tools: <code>yum install container-tools</code></p>
<h3 id="find-and-retrieve-container-images-from-a-remote-registry">Find and retrieve container images from a remote registry<a href="#find-and-retrieve-container-images-from-a-remote-registry" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Red Hat container registry requires a login (which you can get for free with a Developer account)
Provide login details: <code>podman login</code><br>
Search for containers: <code>podman search nginx</code></p>
<h3 id="inspect-container-images">Inspect container images<a href="#inspect-container-images" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>List local images: <code>podman images</code><br>
Inspect a remote image: <code>skopeo inspect docker://registry.fedoraproject.org/fedora:latest</code><br>
Inspect an image that exists locally: <code>podman inspect imagename</code></p>
<h3 id="perform-container-management-using-commands-such-as-podman-and-skopeo">Perform container management using commands such as podman and skopeo<a href="#perform-container-management-using-commands-such-as-podman-and-skopeo" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Remove a container: <code>podman rm containername</code><br>
Remove a container image: <code>podman rmi imagename</code><br>
View logs from a container: <code>podman logs containername</code></p>
<h3 id="build-a-container-from-a-containerfile">Build a container from a Containerfile<a href="#build-a-container-from-a-containerfile" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<h3 id="perform-basic-container-management-such-as-running-starting-stopping-and-listing-running-containers">Perform basic container management such as running, starting, stopping, and listing running containers<a href="#perform-basic-container-management-such-as-running-starting-stopping-and-listing-running-containers" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Start a container in the background: <code>podman run -d nginx</code><br>
Start a container with an interactive shell: <code>podman run -it fedora</code><br>
Stop a container: <code>podman stop containername</code><br>
Restart a container: <code>podman restart containername</code><br>
List running containers: <code>podman ps</code></p>
<h3 id="run-a-service-inside-a-container">Run a service inside a container<a href="#run-a-service-inside-a-container" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Run nginx with port forwards from the host: <code>podman run -d -p 8080:80 nginx</code><br>
Allow the port through the host firewall: <code>firewall-cmd --add-port=8080/tcp</code><br>
Allow the port through the host firewall again to survive reboot: <code>firewall-cmd --add-port=8080/tcp --permanent</code></p>
<h3 id="configure-a-container-to-start-automatically-as-a-systemd-service">Configure a container to start automatically as a systemd service<a href="#configure-a-container-to-start-automatically-as-a-systemd-service" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>This will first require enabling regular user accounts to stay logged in/start services on boot: <code>loginctl enable-linger username</code><br>
Create the local folder to storing the systemd user units: <code>mkdir -p .config/systemd/user</code><br>
Create a systemd unit for a container: <code>podman generate systemd --name nginx --files</code></p>
<h3 id="attach-persistent-storage-to-a-container">Attach persistent storage to a container<a href="#attach-persistent-storage-to-a-container" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Store web public html persistently outside the container: <code>podman run -d -p 8080:80 -v /home/adam/public_html:public_html:Z nginx</code></p>

      </div></div>

  

  
    

  
</article>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>© 2023 Adam Rogers</span>
    
      <span>:: Powered by static site generator <a href="https://gohugo.io" target="_blank"> Hugo</a></span>
      </div>
  </div>
</footer>






<script type="text/javascript" src="/bundle.min.js"></script>




  
</div>

</body>
</html>
